<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Question For You...</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #ffe6ee, #fff0f5, #ffe6ee);
            font-family: 'Georgia', 'Times New Roman', serif;
            overflow: hidden;
            position: relative;
        }

        /* Floating hearts background */
        .hearts-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .floating-heart {
            position: absolute;
            font-size: 20px;
            color: #ffb6c1;
            opacity: 0.3;
            animation: floatHeart linear infinite;
        }

        @keyframes floatHeart {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.3;
            }
            90% {
                opacity: 0.3;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            text-align: center;
            z-index: 10;
            position: relative;
            padding: 20px;
        }

        /* Main question screen */
        #question-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        #question-screen h1 {
            font-size: 2.5rem;
            color: #d4456a;
            text-shadow: 2px 2px 4px rgba(212, 69, 106, 0.2);
            margin-bottom: 10px;
        }

        .main-image-container {
            position: relative;
            width: 280px;
            height: 280px;
            margin: 0 auto;
        }

        .main-image-container svg {
            width: 100%;
            height: 100%;
        }

        .buttons-container {
            display: flex;
            gap: 30px;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            position: relative;
            min-height: 120px;
            width: 100%;
        }

        .btn-yes {
            padding: 15px 40px;
            font-size: 1.2rem;
            background: linear-gradient(135deg, #ff6b8a, #ee3a6d);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Georgia', serif;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(238, 58, 109, 0.4);
            transition: all 0.3s ease;
            z-index: 20;
        }

        .btn-yes:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(238, 58, 109, 0.6);
        }

        .no-btn-wrapper {
            position: relative;
            z-index: 20;
        }

        .btn-no {
            padding: 15px 40px;
            font-size: 1.2rem;
            background: linear-gradient(135deg, #ccc, #aaa);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Georgia', serif;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            transition: all 0.15s ease;
            position: relative;
        }

        .btn-no:hover {
            background: linear-gradient(135deg, #bbb, #999);
        }

        /* Angry character popup near No button */
        .angry-popup {
            position: absolute;
            width: 120px;
            height: 120px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 30;
            top: -130px;
            left: 50%;
            transform: translateX(-50%);
        }

        .angry-popup.show {
            animation: angryFadeInOut 1s ease forwards;
        }

        @keyframes angryFadeInOut {
            0% { opacity: 0; transform: translateX(-50%) scale(0.5); }
            20% { opacity: 1; transform: translateX(-50%) scale(1.1); }
            30% { opacity: 1; transform: translateX(-50%) scale(1); }
            70% { opacity: 1; transform: translateX(-50%) scale(1); }
            100% { opacity: 0; transform: translateX(-50%) scale(0.8); }
        }

        /* Yes screen */
        #yes-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            animation: fadeInUp 0.8s ease;
        }

        #yes-screen h1 {
            font-size: 2.8rem;
            color: #d4456a;
            text-shadow: 2px 2px 4px rgba(212, 69, 106, 0.2);
        }

        #yes-screen p {
            font-size: 1.3rem;
            color: #e87a9e;
            margin-top: -10px;
        }

        .yes-image-container {
            width: 300px;
            height: 300px;
        }

        .yes-image-container svg {
            width: 100%;
            height: 100%;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Heart burst animation on yes */
        .heart-burst {
            position: fixed;
            pointer-events: none;
            z-index: 100;
            font-size: 30px;
            animation: burstHeart 1.5s ease forwards;
        }

        @keyframes burstHeart {
            0% {
                opacity: 1;
                transform: scale(0) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: scale(1.2) rotate(180deg);
            }
            100% {
                opacity: 0;
                transform: scale(0.5) rotate(360deg) translateY(-200px);
            }
        }

        /* Confetti */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            pointer-events: none;
            z-index: 99;
            animation: confettiFall linear forwards;
        }

        @keyframes confettiFall {
            0% {
                opacity: 1;
                transform: translateY(-20px) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(100vh) rotate(720deg);
            }
        }

        /* Subtle bounce for main image */
        .bounce-gentle {
            animation: gentleBounce 3s ease-in-out infinite;
        }

        @keyframes gentleBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Shake animation for angry popup */
        .shake {
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <!-- Floating hearts background -->
    <div class="hearts-bg" id="hearts-bg"></div>

    <div class="container">
        <!-- Question Screen -->
        <div id="question-screen">
            <h1>Will you be my Valentine?</h1>

            <div class="main-image-container bounce-gentle">
                <!-- Image 3: Shy character (asking) -->
                <svg viewBox="0 0 280 280" xmlns="http://www.w3.org/2000/svg">
                    <!-- Round head -->
                    <ellipse cx="140" cy="125" rx="95" ry="90" fill="white" stroke="#222" stroke-width="5"/>
                    <!-- Left eye -->
                    <ellipse cx="108" cy="130" rx="28" ry="32" fill="#111"/>
                    <ellipse cx="100" cy="120" rx="9" ry="10" fill="white"/>
                    <ellipse cx="118" cy="138" rx="4" ry="5" fill="white"/>
                    <!-- Right eye -->
                    <ellipse cx="172" cy="130" rx="28" ry="32" fill="#111"/>
                    <ellipse cx="164" cy="120" rx="9" ry="10" fill="white"/>
                    <ellipse cx="182" cy="138" rx="4" ry="5" fill="white"/>
                    <!-- Small cute mouth -->
                    <path d="M130 162 Q140 170 150 162" stroke="#222" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                    <!-- Left blush -->
                    <ellipse cx="62" cy="155" rx="28" ry="14" fill="#FFB6C1" opacity="0.6"/>
                    <!-- Right blush -->
                    <ellipse cx="218" cy="155" rx="28" ry="14" fill="#FFB6C1" opacity="0.6"/>
                    <!-- Left hand/arm (star-like) -->
                    <g transform="translate(60, 200)">
                        <path d="M0,0 L-8,-15 L5,-8 L15,-18 L8,-3 L20,0 L8,3 L15,18 L5,8 L-8,15 L0,0Z" fill="white" stroke="#222" stroke-width="3.5"/>
                    </g>
                    <!-- Right hand/arm (star-like) -->
                    <g transform="translate(220, 200)">
                        <path d="M0,0 L-8,-15 L5,-8 L15,-18 L8,-3 L20,0 L8,3 L15,18 L5,8 L-8,15 L0,0Z" fill="white" stroke="#222" stroke-width="3.5"/>
                    </g>
                    <!-- Small body -->
                    <path d="M100 210 Q105 240 120 245 Q140 250 160 245 Q175 240 180 210" fill="white" stroke="#222" stroke-width="4" fill="none"/>
                </svg>
            </div>

            <div class="buttons-container">
                <button class="btn-yes" id="btn-yes" onclick="sayYes()">Yes!</button>
                <div class="no-btn-wrapper" id="no-btn-wrapper">
                    <button class="btn-no" id="btn-no">No</button>
                    <!-- Angry popup -->
                    <div class="angry-popup" id="angry-popup">
                        <!-- Image 2: Angry character -->
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <!-- Fluffy cloud-like head -->
                            <path d="M100 25 Q130 15 155 30 Q180 40 185 70 Q195 95 180 115 Q185 140 170 155 Q155 170 130 172 Q115 180 100 178 Q85 180 70 172 Q45 170 30 155 Q15 140 20 115 Q5 95 15 70 Q20 40 45 30 Q70 15 100 25Z" fill="white" stroke="#222" stroke-width="4.5"/>
                            <!-- Angry left eyebrow -->
                            <path d="M55 72 L90 85" stroke="#222" stroke-width="5" stroke-linecap="round"/>
                            <!-- Angry right eyebrow -->
                            <path d="M145 72 L110 85" stroke="#222" stroke-width="5" stroke-linecap="round"/>
                            <!-- Left angry eye -->
                            <ellipse cx="78" cy="105" rx="20" ry="16" fill="#111"/>
                            <!-- Right angry eye -->
                            <ellipse cx="122" cy="105" rx="20" ry="16" fill="#111"/>
                            <!-- Left eye shine -->
                            <ellipse cx="72" cy="100" rx="5" ry="6" fill="white"/>
                            <!-- Right eye shine -->
                            <ellipse cx="116" cy="100" rx="5" ry="6" fill="white"/>
                            <!-- Angry mouth (frown) -->
                            <path d="M80 135 Q100 125 120 135" stroke="#222" stroke-width="3.5" fill="none" stroke-linecap="round"/>
                            <!-- Blush marks -->
                            <ellipse cx="55" cy="118" rx="12" ry="6" fill="#FFB6C1" opacity="0.5"/>
                            <ellipse cx="145" cy="118" rx="12" ry="6" fill="#FFB6C1" opacity="0.5"/>
                            <!-- Anger symbol -->
                            <g transform="translate(148, 45)" fill="none" stroke="#ee3a3a" stroke-width="3" stroke-linecap="round">
                                <path d="M0,4 L8,0 L4,8"/>
                                <path d="M8,0 L16,4 L12,12"/>
                                <path d="M4,8 L12,12"/>
                            </g>
                            <!-- Spiky bottom (jagged) -->
                            <path d="M60 168 L70 185 L85 170 L100 188 L115 170 L130 185 L140 168" fill="white" stroke="#222" stroke-width="3.5" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Yes Screen -->
        <div id="yes-screen">
            <h1>I knew you'd say yes!</h1>
            <p>Happy Valentine's Day, my love</p>
            <div class="yes-image-container">
                <!-- Image 1: Happy character with flower -->
                <svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
                    <!-- Fluffy cloud-like head -->
                    <path d="M150 30 Q185 18 215 35 Q245 50 250 85 Q265 115 245 140 Q250 170 230 188 Q210 205 180 208 Q165 218 150 215 Q135 218 120 208 Q90 205 70 188 Q50 170 55 140 Q35 115 50 85 Q55 50 85 35 Q115 18 150 30Z" fill="white" stroke="#222" stroke-width="5"/>
                    <!-- Left eye (sparkly) -->
                    <ellipse cx="118" cy="115" rx="22" ry="25" fill="#111"/>
                    <ellipse cx="110" cy="107" rx="8" ry="9" fill="white"/>
                    <ellipse cx="126" cy="123" rx="4" ry="4.5" fill="white"/>
                    <circle cx="108" cy="120" r="2" fill="white"/>
                    <!-- Right eye (hidden behind flower mostly, peek) -->
                    <ellipse cx="175" cy="118" rx="10" ry="12" fill="#111" opacity="0.3"/>
                    <!-- Blush (heavy, happy) -->
                    <ellipse cx="85" cy="145" rx="22" ry="12" fill="#FFB6C1" opacity="0.6"/>
                    <ellipse cx="210" cy="145" rx="22" ry="12" fill="#FFB6C1" opacity="0.6"/>
                    <!-- Flower bouquet (red carnation-like) -->
                    <g transform="translate(170, 100)">
                        <!-- Stem -->
                        <rect x="15" y="45" width="6" height="40" rx="3" fill="#6a9e3f"/>
                        <!-- Leaf -->
                        <ellipse cx="10" cy="70" rx="12" ry="5" fill="#7ab648" transform="rotate(-30, 10, 70)"/>
                        <!-- Flower petals (carnation cluster) -->
                        <circle cx="10" cy="15" r="14" fill="#ee4466"/>
                        <circle cx="25" cy="10" r="13" fill="#e63955"/>
                        <circle cx="35" cy="20" r="12" fill="#ee4466"/>
                        <circle cx="30" cy="35" r="13" fill="#e63955"/>
                        <circle cx="15" cy="35" r="12" fill="#ee4466"/>
                        <circle cx="5" cy="28" r="11" fill="#e63955"/>
                        <circle cx="20" cy="22" r="10" fill="#ff6680"/>
                        <!-- Lighter inner petals -->
                        <circle cx="18" cy="18" r="6" fill="#ff8899" opacity="0.7"/>
                        <circle cx="28" cy="25" r="5" fill="#ff8899" opacity="0.6"/>
                        <circle cx="12" cy="30" r="5" fill="#ff8899" opacity="0.6"/>
                    </g>
                    <!-- Small floating hearts -->
                    <text x="248" y="52" font-size="22" fill="#ee3a3a" opacity="0.8">&#x2764;</text>
                    <text x="60" y="45" font-size="14" fill="#ee3a3a" opacity="0.6">&#x2764;</text>
                    <!-- Bottom spikes/body hint -->
                    <path d="M105 205 L115 225 L130 208 L150 228 L170 208 L185 225 L195 205" fill="white" stroke="#222" stroke-width="4" stroke-linejoin="round"/>
                </svg>
            </div>
        </div>
    </div>

    <script>
        // --- Floating hearts background ---
        function createFloatingHearts() {
            const container = document.getElementById('hearts-bg');
            const hearts = ['\u2764', '\u2665', '\u2661', '\uD83D\uDC95', '\uD83D\uDC96'];
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('span');
                heart.className = 'floating-heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.fontSize = (12 + Math.random() * 20) + 'px';
                heart.style.animationDuration = (8 + Math.random() * 12) + 's';
                heart.style.animationDelay = (Math.random() * 10) + 's';
                container.appendChild(heart);
            }
        }
        createFloatingHearts();

        // --- No button dodge logic ---
        const btnNo = document.getElementById('btn-no');
        const btnYes = document.getElementById('btn-yes');
        const noWrapper = document.getElementById('no-btn-wrapper');
        const angryPopup = document.getElementById('angry-popup');
        let yesScale = 1;
        let dodgeCount = 0;

        function getRandomPosition() {
            const padding = 20;
            const btnRect = btnNo.getBoundingClientRect();
            const maxX = window.innerWidth - btnRect.width - padding;
            const maxY = window.innerHeight - btnRect.height - padding;
            const x = padding + Math.random() * (maxX - padding);
            const y = padding + Math.random() * (maxY - padding);
            return { x, y };
        }

        function dodgeNoButton() {
            dodgeCount++;

            // Make Yes button bigger
            yesScale += 0.15;
            btnYes.style.transform = `scale(${yesScale})`;
            btnYes.style.zIndex = '20';

            // Move No button to a random position
            const pos = getRandomPosition();

            // Make No button fixed position for dodging
            if (noWrapper.style.position !== 'fixed') {
                const rect = noWrapper.getBoundingClientRect();
                noWrapper.style.position = 'fixed';
                noWrapper.style.left = rect.left + 'px';
                noWrapper.style.top = rect.top + 'px';
            }

            noWrapper.style.left = pos.x + 'px';
            noWrapper.style.top = pos.y + 'px';
            noWrapper.style.transition = 'left 0.15s ease, top 0.15s ease';

            // Show angry character
            showAngryPopup();

            // Make the no button smaller after many dodges
            if (dodgeCount > 5) {
                const shrink = Math.max(0.5, 1 - (dodgeCount - 5) * 0.08);
                btnNo.style.transform = `scale(${shrink})`;
            }
        }

        function showAngryPopup() {
            angryPopup.classList.remove('show');
            // Force reflow to restart animation
            void angryPopup.offsetWidth;
            angryPopup.classList.add('show');

            // Remove class after animation ends
            setTimeout(() => {
                angryPopup.classList.remove('show');
            }, 1000);
        }

        // Listen for mouse entering the No button area
        btnNo.addEventListener('mouseenter', (e) => {
            dodgeNoButton();
        });

        // Also handle click in case they manage to click it
        btnNo.addEventListener('click', (e) => {
            e.preventDefault();
            dodgeNoButton();
        });

        // Touch support for mobile
        btnNo.addEventListener('touchstart', (e) => {
            e.preventDefault();
            dodgeNoButton();
        });

        // --- Yes button logic ---
        function sayYes() {
            document.getElementById('question-screen').style.display = 'none';
            noWrapper.style.display = 'none';
            const yesScreen = document.getElementById('yes-screen');
            yesScreen.style.display = 'flex';

            // Burst hearts
            createHeartBurst();
            // Confetti
            createConfetti();
        }

        function createHeartBurst() {
            const hearts = ['\u2764\uFE0F', '\uD83D\uDC96', '\uD83D\uDC95', '\uD83D\uDC97', '\uD83D\uDC9E', '\u2763\uFE0F'];
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const heart = document.createElement('span');
                    heart.className = 'heart-burst';
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.left = (20 + Math.random() * 60) + '%';
                    heart.style.top = (20 + Math.random() * 60) + '%';
                    heart.style.fontSize = (20 + Math.random() * 30) + 'px';
                    document.body.appendChild(heart);

                    setTimeout(() => heart.remove(), 1500);
                }, i * 80);
            }
        }

        function createConfetti() {
            const colors = ['#ff6b8a', '#ee3a6d', '#ffb6c1', '#ff69b4', '#ff1493', '#ffd700', '#ff4500'];
            for (let i = 0; i < 60; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-10px';
                    confetti.style.width = (5 + Math.random() * 10) + 'px';
                    confetti.style.height = (5 + Math.random() * 10) + 'px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    confetti.style.animationDuration = (2 + Math.random() * 3) + 's';
                    document.body.appendChild(confetti);

                    setTimeout(() => confetti.remove(), 5000);
                }, i * 50);
            }
        }
    </script>
</body>
</html>
